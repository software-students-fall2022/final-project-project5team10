{% extends 'wrapper.html' %}
{% block container %}

<div class="bookInfo">
    <img src="data:image/png;base64, {{book.image_base64}}" width="500" height="500" />
    <h2>${{book.price}}</h2>
    <div class="bookDetails">
        <h2>Book Info:</h2>
        <h3>Title: {{book.title}}</h3>
        <h3>Edition: {{book.edition}}</h3>
        {% if book.metadata.volumeInfo.authors %}
        <h3>Author:
            {% for author in book.metadata.volumeInfo.authors %}
            {{author}}
            {% endfor %}
        </h3>
        {% endif %}
        {% if book.metadata.volumeInfo.categories %}
        <h3>Category:
            {% for category in book.metadata.volumeInfo.categories %}
            {{category}}
            {% endfor %}

        </h3>
        {% endif %}
        <h3>Publisher: {{book.publisher}}</h3>
        <h3>Condition: {{book.condition}}</h3>
        {% if book.metadata.volumeInfo.averageRating %}
        <h3>Average Rating: {{book.metadata.volumeInfo.averageRating}}, {{book.metadata.volumeInfo.ratingsCount}}
            reviews</h3>
        {% endif %}
        {% if book.metadata.volumeInfo.pageCount %}
        <h3>Page Count: {{book.metadata.volumeInfo.pageCount}}</h3>
        {% endif %}
        {% if book.metadata.volumeInfo.description %}
        <h3>Description: {{book.metadata.volumeInfo.description}}</h3>
        {% endif %}
    </div>

    {% if is_owner %}
    <form id="delbook" method="GET" action="{{ url_for('delete_book', bookid=book._id) }}">
        <input type="submit" name="delbookbtn" value="Delete Book Listing">
    </form>
    <form id="editbook" method="GET" action="{{ url_for('edit_book', bookid=book._id) }}">
        <input type="submit" name="editbookbtn" value="Edit Book Listing">
    </form>
    {% else %}
    <!--choose this book to swap-->
    <div>
        <form id="requestswap" method="POST">
            <input type="submit" name="request" value="Request to Swap">
        </form>
    </div>
    {% endif %}
</div>

{% endblock %}